{"version":3,"sources":["webpack:///./assets/src/template/cart.js","webpack:///./assets/src/main.js"],"names":["homeUrl","nonce","qty","routeCart","routeChecout","init","this","getJSON","increaseQty","decreaseQty","removeItem","alert","addToCart","producId","reqJSON","getCart","route","fetch","then","resp","json","data","items_count","console","log","catch","error","method","body","headers","JSON","stringify","document","addEventListener","Alpine","Cart"],"mappings":";;;;;;;;;;;;;;;;;6IAAe,WAACA,EAAQC,GAAT,MAAoB,CAClCA,QACAC,IAAK,EACLC,UAAWH,EAAU,4BACrBI,aAAcJ,EAAU,gCACxBK,KALkC,WAMjCC,KAAKC,QAAQD,KAAKH,YAGnBK,YATkC,WAUjCF,KAAKJ,OAMNO,YAhBkC,WAiBjCH,KAAKJ,OAINQ,WArBkC,WAsBjCC,MAAM,QAGPC,UAzBkC,SAyBxBC,GACTP,KAAKQ,QAAL,UAAgBR,KAAKH,UAArB,aAA0C,OAAO,CAChD,GAAMU,EACH,SAAY,KAIjBE,QAhCkC,aAoClCR,QApCkC,SAoC1BS,GAAQ,IAAD,OACdC,MAAMD,GAAOE,MAAK,SAAAC,GACjB,OAAOA,EAAKC,UACVF,MAAK,SAAAG,GACP,EAAKnB,IAAMmB,EAAKC,YAChBC,QAAQC,IAAIH,MACVI,OAAM,SAACC,GACTH,QAAQC,IAAR,iBAAsBE,QAIxBZ,QA/CkC,SA+C1BE,EAAOW,EAAQC,GAAO,IAAD,OAC5BX,MAAMD,EAAO,CACZW,SACAE,QAAS,CACR,eAAgB,mBAChB,OAAU,mBACV,MAASvB,KAAKL,OAEf2B,KAAME,KAAKC,UAAUH,KACnBV,MAAK,SAAAC,GACP,OAAOA,EAAKC,UACVF,MAAK,SAAAG,GACP,EAAKnB,IAAMmB,EAAKC,eACdG,OAAM,SAACC,GACTH,QAAQC,IAAR,iBAAsBE,UCzDzBM,SAASC,iBAAiB,eAAc,WACvCC,OAAOb,KAAK,OAAQc,O","file":"app/main-9e112b38.js","sourcesContent":["export default (homeUrl,nonce) => ({\n\tnonce,\n\tqty: 0,\n\trouteCart: homeUrl + '/wp-json/wc/store/v1/cart',\n\trouteChecout: homeUrl + '/wp-json/wc/store/v1/checkout',\n\tinit() {\n\t\tthis.getJSON(this.routeCart);\n\t},\n\n\tincreaseQty() {\n\t\tthis.qty++;\n\t\t// TODO:檢查商品庫存\n\t\t// TODO:各商品的購物車數量\n\n\t},\n\n\tdecreaseQty() {\n\t\tthis.qty--;\n\t\t// TODO:變零時跳轉\n\t},\n\n\tremoveItem() {\n\t\talert('ddd')\n\t},\n\n\taddToCart(producId) {\n\t\tthis.reqJSON(`${this.routeCart}/add-item`,'POST',{\n\t\t\t'id': producId,\n    \t\t'quantity': 1\n\t\t})\n\t},\n\n\tgetCart() {\n\n\t},\n\n\tgetJSON(route) {\n\t\tfetch(route).then(resp => {\n\t\t\treturn resp.json();\n\t\t}).then(data => {\n\t\t\tthis.qty = data.items_count\n\t\t\tconsole.log(data)\n\t\t}).catch((error) => {\n\t\t\tconsole.log(`Error: ${error}`);\n\t\t})\n\t},\n\n\treqJSON(route, method, body) {\n\t\tfetch(route, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t'Nonce': this.nonce\n\t\t\t},\n\t\t\tbody: JSON.stringify(body)\n\t\t}).then(resp => {\n\t\t\treturn resp.json();\n\t\t}).then(data => {\n\t\t\tthis.qty = data.items_count\n\t\t}).catch((error) => {\n\t\t\tconsole.log(`Error: ${error}`);\n\t\t})\n\t}\n\n})","import '@master/css';\nimport './main.scss';\nimport Cart from './template/cart';\n\ndocument.addEventListener('alpine:init',() => {\n\tAlpine.data('cart', Cart);\n})\n\n"],"sourceRoot":""}